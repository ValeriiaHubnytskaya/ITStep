Формы чаще всего выводяться методом пост 
Если в результате пост запроса выводится html ? то при попытке 
обновить  старницу
-выводится предупреждение от браузера (о повторной отправке формы)
- при нажатии "Ок" просиходит повторная отправка формы с файлами если есть

Считается плохим тоном и не рекомендуется заканчивать пост запросы
представлениями. Рекомендуется перенаправлять на  get запросы.

В такой схеме есть особенность с передачей данных: т.к. запрос повторяется, 
контролеер перезапускается и все его поля/свойства обнуляются
Решение - Сессии
В веб-разработке сессии - это механизм сохранения состояния(данных)
между запросами с хранением на стороне сервера.

Middleware
ПО серединого слоя:
Идея : обработка запроса происходит поэтапно (слоями ПО)
(см картинку  https://docs.microsoft.com/en-us/aspnet/core/fundamentals/middleware/?view=aspnetcore-6.0)

Новое ПО может быть встроенно в процесс обработки запроса в промежуток
между другими слоями

Зачем? Для того, чтобы иметь возможность выполнить определенные действия
в любом случае, независимо от запрошенного ресурса (контроллера)
Например авторизация - ее нужно проверять для всех запросов.
Так же подключение к БД, логирование (введение жернала запрсов)

КАк? ПО можно подключить несколькоми способами
1) app.Run(context => {....})
2)app.Use(  (context,next) => {part1;		await	next1;		part2;		})
3) app.UseMiddleware<MyClass()>
4) расширения  app.UseMyClass()
5)

  Служба получения авторизованого пользователя:
  заявляем как зависимость там, где нужны данные об аворизации

  -cоздаем в папке Services интерфейс IAuthService
  - создаем в папке Services класс SessionAuthService
  - регистрируем службу! т.к. служба зависит от контекста данных, она не может
  иметь дольше время жизни, чем контекст -
  зарегестировать службу как Singleton невозможно (приводит к исключению)
  - заявляем зависимость от службы авторизации в SessionAuthMiddleware
